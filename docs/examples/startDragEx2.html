<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>JS+ test page - startDrag</title>
<script type="text/javascript" src="../../js/jsplus.js"></script>

<style>

.area {
	display: inline-block;
	width: 640px;
	background-color: #EFEFEF;
	overflow: hidden;
	border-top: 1px solid #CCC;
	border-bottom: 1px solid #CCC;
}

.btn {
	display: inline-block;
	width: 147px;
	height: 34px;
	line-height: 34px;
	background-image: url('../../images/btnSprite.png');
	background-repeat: no-repeat;
	text-align: center;
	cursor: default;
	color: #EFEFEF;
	font-family: Verdana;
	font-size: 10px;
}

.btn:hover {
	background-position: center -34px;
}

</style>

<script>

window.onload = function(){
	var btn = $("btn");
	var area = $("area");
	
	btn.onmousedown = function(evt){
		return startDrag(evt, this.id, true, Drag.X_AXIS, Drag.RELATIVE);
	}
	btn.onDrag = function(evt){
		var rLimit = area.offsetWidth-this.offsetWidth;
		btn.innerHTML = "<b>B</b>: "+this.style.left; //value before drag
		if(evt.nextX <= 0){ //nextX: value after drag
			this.style.left = 0;
			return false;
		} else if(evt.nextX > rLimit){
			this.style.left = rLimit;
			return false;
		}
	}
	btn.onDragAfter = function(evt){
		btn.innerHTML+= " / <b>A</b>: "+this.style.left;
	}
	btn.onmouseup = stopDrag;
	
}

</script>

</head>
<body>

<div id="area" class="area">
    <div id="btn" class="btn">Drag me!</div>
</div>

</body>
</html>